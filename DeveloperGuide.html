<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>Event Planning isn&#8217;t Complicated (EPIC) - Developer Guide</title>
<link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Event Planning isn&#8217;t Complicated (EPIC) - Developer Guide</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>By: <code>Team W13-B2</code>      Since: <code>Mar 2018</code>      Licence: <code>MIT</code></p>
</div>
<div class="paragraph">
<p>Table of Contents:</p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#setting-up">2. Setting Up</a>
<ul class="sectlevel2">
<li><a href="#prerequisites">2.1. Prerequisites</a></li>
<li><a href="#setting-up-the-project-on-your-computer">2.2. Setting Up the Project on Your Computer</a></li>
<li><a href="#verifying-the-setup">2.3. Verifying the Setup</a></li>
<li><a href="#configurations-to-do-before-writing-code">2.4. Configurations to Do Before Writing Code</a></li>
</ul>
</li>
<li><a href="#Design-Architecture">3. Architecture</a>
<ul class="sectlevel2">
<li><a href="#main">3.1. Main</a></li>
<li><a href="#commons">3.2. Commons</a></li>
<li><a href="#Design-Ui">3.3. UI Component</a></li>
<li><a href="#Design-Logic">3.4. Logic Component</a></li>
<li><a href="#Design-Model">3.5. Model Component</a></li>
<li><a href="#Design-Storage">3.6. Storage Component</a></li>
<li><a href="#how-components-interact">3.7. How Components Interact</a></li>
</ul>
</li>
<li><a href="#implementation">4. Implementation</a>
<ul class="sectlevel2">
<li><a href="#find-event-feature">4.1. Find Event Feature</a></li>
<li><a href="#edit-person-event-features">4.2. Edit Person/Event Features</a></li>
<li><a href="#undo-redo-features">4.3. Undo/Redo Features</a></li>
<li><a href="#register-deregister-features">4.4. Register/Deregister Features</a></li>
<li><a href="#list-registered-persons-feature">4.5. List Registered Persons Feature</a></li>
<li><a href="#toggle-attendance-feature">4.6. Toggle Attendance Feature</a></li>
<li><a href="#find-registrant-feature">4.7. Find Registrant Feature</a></li>
<li><a href="#three-pane-ui">4.8. Three-Pane UI</a></li>
<li><a href="#logging">4.9. Logging</a></li>
<li><a href="#proposed-mass-registration">4.10. [Proposed] Mass Registration</a></li>
<li><a href="#proposed-export-an-event">4.11. [proposed] Export an Event</a></li>
</ul>
</li>
<li><a href="#documentation">5. Documentation</a>
<ul class="sectlevel2">
<li><a href="#editing-documentation">5.1. Editing Documentation</a></li>
<li><a href="#publishing-documentation">5.2. Publishing Documentation</a></li>
<li><a href="#converting-documentation-to-pdf-format">5.3. Converting Documentation to PDF Format</a></li>
</ul>
</li>
<li><a href="#Testing">6. Testing</a>
<ul class="sectlevel2">
<li><a href="#running-tests">6.1. Running Tests</a></li>
<li><a href="#types-of-tests">6.2. Types of Tests</a></li>
<li><a href="#troubleshooting-testing">6.3. Troubleshooting Testing</a></li>
</ul>
</li>
<li><a href="#dev-ops">7. Dev Ops</a>
<ul class="sectlevel2">
<li><a href="#build-automation">7.1. Build Automation</a></li>
<li><a href="#continuous-integration">7.2. Continuous Integration</a></li>
<li><a href="#coverage-reporting">7.3. Coverage Reporting</a></li>
<li><a href="#documentation-previews">7.4. Documentation Previews</a></li>
<li><a href="#making-a-release">7.5. Making a Release</a></li>
<li><a href="#managing-dependencies">7.6. Managing Dependencies</a></li>
</ul>
</li>
<li><a href="#product-scope">Appendix A: Product Scope</a></li>
<li><a href="#user-stories">Appendix B: User Stories</a></li>
<li><a href="#use-cases">Appendix C: Use Cases</a></li>
<li><a href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></li>
<li><a href="#glossary">Appendix E: Glossary</a></li>
<li><a href="#product-survey">Appendix F: Product Survey</a></li>
<li><a href="#instructions-for-manual-testing">Appendix G: Instructions for Manual Testing</a>
<ul class="sectlevel2">
<li><a href="#launch-and-shutdown">G.1. Launch and Shutdown</a></li>
<li><a href="#deleting-a-person">G.2. Deleting a Person</a></li>
<li><a href="#saving-data">G.3. Saving Data</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>EPIC is a Java application and event planning tool for large organization hosting many large-scale events (e.g. schools which host competitions, award and graduation ceremonies, and seminars and talks).</p>
</div>
<div class="paragraph">
<p>It provides a basic suite of operations for managing the attendance for multiple events. Attendees can be drawn from a common attendance list. It is targeted at and optimised for event planners who are comfortable with using a Command Line Interface (CLI).</p>
</div>
<div class="paragraph">
<p>This Developer Guide provides a high level introduction and view of EPIC. We will walk you through the software architecture EPIC adopts, the implementation
of several interesting features EPIC has, as well as prepare you to modify the codebase of EPIC yourself.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up"><a class="link" href="#setting-up">2. Setting Up</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section details the set-up process for working on the codebase on your computer.</p>
</div>
<div class="sect2">
<h3 id="prerequisites"><a class="link" href="#prerequisites">2.1. Prerequisites</a></h3>
<div class="paragraph">
<p>Please ensure that you have the following installed on your computer:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>JDK <code>1.8.0_60</code></strong> or later</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Having any Java 8 version is not enough.<br>
This app will not work with earlier versions of Java 8.
</td>
</tr>
</table>
</div>
</li>
<li>
<p><strong>IntelliJ</strong> IDE</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
IntelliJ by default has Gradle and JavaFX plugins installed.<br>
Do not disable them. If you have disabled them, go to <code>File</code> &gt; <code>Settings</code> &gt; <code>Plugins</code> to re-enable them.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="setting-up-the-project-on-your-computer"><a class="link" href="#setting-up-the-project-on-your-computer">2.2. Setting Up the Project on Your Computer</a></h3>
<div class="paragraph">
<p>Please follow these steps to set up the project on your computer:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fork this repo, and clone the fork to your computer.</p>
</li>
<li>
<p>Open IntelliJ (if you are not in the welcome screen, click <code>File</code> &gt; <code>Close Project</code> to close the existing project dialog first).</p>
</li>
<li>
<p>Set up the correct JDK version for Gradle.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click <code>Configure</code> &gt; <code>Project Defaults</code> &gt; <code>Project Structure</code>.</p>
</li>
<li>
<p>Click <code>New&#8230;&#8203;</code> and find the directory of the JDK.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <code>Import Project</code>.</p>
</li>
<li>
<p>Locate the <code>build.gradle</code> file and select it. Click <code>OK</code>.</p>
</li>
<li>
<p>Click <code>Open as Project</code>.</p>
</li>
<li>
<p>Click <code>OK</code> to accept the default settings.</p>
</li>
<li>
<p>Open a console and run the command <code>gradlew processResources</code> (Mac/Linux: <code>./gradlew processResources</code>). It should finish with the <code>BUILD SUCCESSFUL</code> message.<br>
This will generate all resources required by the application and tests.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="verifying-the-setup"><a class="link" href="#verifying-the-setup">2.3. Verifying the Setup</a></h3>
<div class="paragraph">
<p>To ensure that EPIC has been set up correctly:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the <code>seedu.address.MainApp</code> and try a few commands.</p>
</li>
<li>
<p><a href="#Testing">Run the tests</a> to ensure they all pass.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configurations-to-do-before-writing-code"><a class="link" href="#configurations-to-do-before-writing-code">2.4. Configurations to Do Before Writing Code</a></h3>
<div class="paragraph">
<p>For the best developer experience, we recommend the following configurations before you start coding.</p>
</div>
<div class="sect3">
<h4 id="configuring-the-coding-style"><a class="link" href="#configuring-the-coding-style">2.4.1. Configuring the Coding Style</a></h4>
<div class="paragraph">
<p>This project follows <a href="https://github.com/oss-generic/process/blob/master/docs/CodingStandards.adoc">oss-generic coding standards</a>. IntelliJ&#8217;s default style is mostly compliant with ours but it uses a different import order from ours. To rectify:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to <code>File</code> &gt; <code>Settings&#8230;&#8203;</code> (Windows/Linux), or <code>IntelliJ IDEA</code> &gt; <code>Preferences&#8230;&#8203;</code> (macOS).</p>
</li>
<li>
<p>Select <code>Editor</code> &gt; <code>Code Style</code> &gt; <code>Java</code>.</p>
</li>
<li>
<p>Click on the <code>Imports</code> tab. Then,</p>
<div class="ulist">
<ul>
<li>
<p>For <code>Class count to use import with '*'</code> and <code>Names count to use static import with '*'</code>:</p>
<div class="ulist">
<ul>
<li>
<p>Set to <code>999</code> to prevent IntelliJ from contracting the import statements.</p>
</li>
</ul>
</div>
</li>
<li>
<p>For <code>Import Layout</code>:</p>
<div class="ulist">
<ul>
<li>
<p>The order should be <code>import static all other imports</code>, <code>import java.*</code>, <code>import javax.*</code>, <code>import org.*</code>, <code>import com.*</code>, <code>import all other imports</code>.</p>
</li>
<li>
<p>Check the checkbox: <code>Add a blank line between each import</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Optionally, you can follow the <a href="UsingCheckstyle.html">UsingCheckstyle.adoc</a> document to configure Intellij to check style-compliance as you write code.</p>
</div>
</div>
<div class="sect3">
<h4 id="updating-documentation-to-match-your-fork"><a class="link" href="#updating-documentation-to-match-your-fork">2.4.2. Updating Documentation to Match Your Fork</a></h4>
<div class="paragraph">
<p>After forking the repo, links in the documentation will still point to the <code>CS3103JAN2018-W13-B2/main</code> repo. If you plan to develop this as a separate product (i.e. instead of contributing to the <code>CS2103JAN2018-W13-B2/main</code>) , you should replace the URL in the variable <code>repoURL</code> in <code>DeveloperGuide.adoc</code> and <code>UserGuide.adoc</code> with the URL of your fork.</p>
</div>
</div>
<div class="sect3">
<h4 id="setting-up-ci"><a class="link" href="#setting-up-ci">2.4.3. Setting Up CI</a></h4>
<div class="paragraph">
<p>Set up Travis to perform Continuous Integration (CI) for your fork. See <a href="UsingTravis.html">UsingTravis.adoc</a> to learn how to set it up.</p>
</div>
<div class="paragraph">
<p>After setting up Travis, you can optionally set up coverage reporting for your team fork (see <a href="UsingCoveralls.html">UsingCoveralls.adoc</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Coverage reporting could be useful for a team repository that hosts the final version but it is not that useful for your personal fork.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Optionally, you can set up AppVeyor as a second CI (see <a href="UsingAppVeyor.html">UsingAppVeyor.adoc</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Having both Travis and AppVeyor ensures your App works on both Unix-based platforms and Windows-based platforms (Travis is Unix-based and AppVeyor is Windows-based).
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Design-Architecture"><a class="link" href="#Design-Architecture">3. Architecture</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>EPIC incorporates the core architectural principles of object-oriented, Java-based applications. It consists of loosely coupled components written in Java. The <strong><em>Architecture Diagram</em></strong> (<a href="#architecture-diagram">Figure 1</a>) given below explains the high-level design of the App.</p>
</div>
<div id="architecture-diagram" class="imageblock">
<div class="content">
<img src="images/Architecture.png" alt="Architecture" width="600">
</div>
<div class="title">Figure 1. Architecture Diagram</div>
</div>
<div class="paragraph">
<p>The application consists of the Main, Commons, Logic, UI, Model and Storage components. The UI, Logic, Model and Storage
components form the <strong>core</strong> of the application, with Main and Commons facilitating their initialisation and inter-communication.</p>
</div>
<div class="paragraph">
<p>Below is a quick overview of each component:</p>
</div>
<div class="sect2">
<h3 id="main"><a class="link" href="#main">3.1. Main</a></h3>
<div class="paragraph">
<p>The Main component only has one class - <a href="https://github.com/CS2103JAN2018-W13-B2/main/blob/master/src/main/java/seedu/address/MainApp.java"><code>MainApp</code></a>. This class has two main responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At app launch, it initialises the other components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>Upon exit, it shuts down the other components and invokes cleanup methods where necessary.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="commons"><a class="link" href="#commons">3.2. Commons</a></h3>
<div class="paragraph">
<p>Commons represents a collection of classes used by multiple other components. Two of these classes play important roles at the architecture level.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>EventsCenter</code> : This class (written using <a href="https://github.com/google/guava/wiki/EventBusExplained">Google&#8217;s Event Bus library</a>)
is used by components to communicate with other components using events (i.e. a form of <em>Event Driven Design</em>).</p>
</li>
<li>
<p><code>LogsCenter</code> : This class is used by many classes to write log messages to the application&#8217;s log file.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Ui"><a class="link" href="#Design-Ui">3.3. UI Component</a></h3>
<div class="paragraph">
<p>The UI component is responsible for interfacing with the user. The UI component has three main responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It executes user commands using the Logic component.</p>
</li>
<li>
<p>It binds itself to some data in the Model component so that it can auto-update itself when data in the Model component changes.</p>
</li>
<li>
<p>It responds to events raised from various parts of the App and updates itself accordingly.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="functional-overview"><a class="link" href="#functional-overview">3.3.1. Functional Overview</a></h4>
<div class="paragraph">
<p>The UI consists of a <code>MainWindow</code> that contains the 5 main layout regions (<a href="#GUIOverview">Figure 2</a>):</p>
</div>
<div id="GUIOverview" class="imageblock">
<div class="content">
<img src="images/GUI.png" alt="GUI" width="750">
</div>
<div class="title">Figure 2. Overview of the Graphical User Interface of EPIC</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Command Box: text box to receive user inputs.</p>
</li>
<li>
<p>Result Display: status bar that displays the result of user commands.</p>
</li>
<li>
<p>People List Panel: pane that lists all persons.</p>
</li>
<li>
<p>Event List Panel: pane that lists all events.</p>
</li>
<li>
<p>Attendance List Panel: pane that lists all registrants in the user selected event.</p>
</li>
<li>
<p>Person Card: a card that lists a person&#8217;s contact information.</p>
</li>
<li>
<p>Event Card: a card that lists an event&#8217;s details.</p>
</li>
<li>
<p>Attendance Card: a card that lists a registrant&#8217;s contact information and displays if the registrant has attended or not.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If no  <code>EpicEvent</code> has been selected, the Attendance List Panel will be empty
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="technical-overview"><a class="link" href="#technical-overview">3.3.2. Technical Overview</a></h4>
<div class="paragraph">
<p>The UI component (<a href="#UiClassDiagram">Figure 3</a>) uses the JavaFX UI framework. The UI consists of a <code>MainWindow</code> that is made up of parts e.g.<code>CommandBox</code>, <code>ResultDisplay</code>, <code>PersonListPanel</code>, <code>StatusBarFooter</code> etc. All these, including the <code>MainWindow</code>, inherit from the abstract <code>UiPart</code> class.</p>
</div>
<div id="UiClassDiagram" class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram" width="750">
</div>
<div class="title">Figure 3. Structure of the UI Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/CS2103JAN2018-W13-B2/main/blob/master/src/main/java/seedu/address/ui/Ui.java"><code>Ui.java</code></a></p>
</div>
<div class="paragraph">
<p>The layout of these UI parts is defined in matching <code>.fxml</code> files that are in the <code>src/main/resources/view</code> folder.
For example, the layout of the <a href="https://github.com/CS2103JAN2018-W13-B2/main/blob/master/src/main/java/seedu/address/ui/MainWindow.java"><code>MainWindow</code></a> is specified in <a href="https://github.com/CS2103JAN2018-W13-B2/main/blob/master/src/main/resources/view/MainWindow.fxml"><code>MainWindow.fxml</code></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Design-Logic"><a class="link" href="#Design-Logic">3.4. Logic Component</a></h3>
<div class="paragraph">
<p>The Logic component (<a href="#LGC">Figure 4</a>) is responsible for the parsing and execution of commands.</p>
</div>
<div id="LGC" class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram" width="800">
</div>
<div class="title">Figure 4. Structure of the Logic Component</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicCommandClassDiagram.png" alt="LogicCommandClassDiagram" width="800">
</div>
<div class="title">Figure 5. Structure of Commands in the Logic Component. This diagram shows finer details concerning <code>XYZCommand</code> and <code>Command</code> in <a href="#LGC">Figure 4</a></div>
</div>
<div class="paragraph">
<p><strong>API</strong> :
<a href="https://github.com/CS2103JAN2018-W13-B2/main/blob/master/src/main/java/seedu/address/logic/Logic.java"><code>Logic.java</code></a></p>
</div>
<div class="paragraph">
<p>When a command is entered into the command box, the following steps take place:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The Logic component uses the <code>EventPlannerParser</code> class to parse the user command.</p>
</li>
<li>
<p>A <code>Command</code> object is returned by the parser, which is passed to the <code>LogicManager</code> to execute.</p>
</li>
<li>
<p>The command execution may affect the Model component (e.g. adding a person) and/or raise events.</p>
</li>
<li>
<p>The result of the command execution is encapsulated as a <code>CommandResult</code> object which is passed back to the UI component.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The Sequence Diagram for interactions within the Logic component for the <code>execute("delete 1")</code> API call is shown below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeletePersonSdForLogic.png" alt="DeletePersonSdForLogic" width="800">
</div>
<div class="title">Figure 6. Interactions Inside the Logic Component for the <code>delete 1</code> Command</div>
</div>
</div>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">3.5. Model Component</a></h3>
<div class="paragraph">
<p>The Model component (<a href="#MCD">Figure 7</a>) is responsible for holding application data in-memory.</p>
</div>
<div id="MCD" class="imageblock">
<div class="content">
<img src="images/ModelClassDiagram.png" alt="ModelClassDiagram" width="800">
</div>
<div class="title">Figure 7. Structure of the Model Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/CS2103JAN2018-W13-B2/main/blob/master/src/main/java/seedu/address/model/Model.java"><code>Model.java</code></a></p>
</div>
<div class="paragraph">
<p>The Model component has the following responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It stores a <code>UserPref</code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>It stores the Event Planner data.</p>
</li>
<li>
<p>It exposes three unmodifiable <code>ObservableLists</code>, one each for <code>Person</code>, <code>EpicEvent</code> and <code>Attendance</code>.
The UI can be bound to any of these lists so that it automatically updates when the data in the list changes.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The Model does not depend on any of the other three components. This reduces coupling between components.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="Design-Storage"><a class="link" href="#Design-Storage">3.6. Storage Component</a></h3>
<div class="paragraph">
<p>The Storage component (<a href="#SCD">Figure 8</a>) is responsible for persisting application data on the hard disk.</p>
</div>
<div id="SCD" class="imageblock">
<div class="content">
<img src="images/StorageClassDiagram.png" alt="StorageClassDiagram" width="800">
</div>
<div class="title">Figure 8. Structure of the Storage Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/CS2103JAN2018-W13-B2/main/blob/master/src/main/java/seedu/address/storage/Storage.java"><code>Storage.java</code></a></p>
</div>
<div class="paragraph">
<p>The Storage component has the following functions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It can save <code>UserPref</code> objects in json format and reconstruct the Model from a file of this format.</p>
</li>
<li>
<p>It can save the Event Planner data in xml format and reconstruct the Model from a file of this format.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When EPIC is re-launched, the following steps take place to restore data from the storage file:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>Main</code> creates an instance of <code>UserPrefStorage</code> object to initiate user preference for storage.</p>
</li>
<li>
<p>The <code>Main</code> creates an instance of <code>XmlEventPlannerStorage</code> object to restore data with storage file path supplied by the instance of <code>UserPrefStorage</code> object.</p>
</li>
<li>
<p>The restored data is encapsulated as an <code>EventPlanner</code> object inside the <code>XmlEventPlannerStorage</code> instance.</p>
</li>
<li>
<p>An instance of <code>StorageManager</code> object is created from both the <code>XmlEventPlannerStorage</code> object and the <code>UserPrefStorage</code> object.</p>
</li>
<li>
<p>The <code>StorageManager</code> object is used to initiate the model components.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The Sequence Diagram for interactions within the Storage Component to restore data is shown below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StorageComponentSequenceDiagram.png" alt="StorageComponentSequenceDiagram" width="800">
</div>
<div class="title">Figure 9. Interactions Inside the Storage Component to restore data</div>
</div>
</div>
<div class="sect2">
<h3 id="how-components-interact"><a class="link" href="#how-components-interact">3.7. How Components Interact</a></h3>
<div class="paragraph">
<p>Finally, we will conclude the Architecture section with several examples on how the components interact.</p>
</div>
<div class="paragraph">
<p>Each of the core components (UI, Logic, Model, Storage) has the following functions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It defines its <em>API</em> in an <code>interface</code> with the same name as the component.</p>
</li>
<li>
<p>It exposes its functionality using a <code>{COMPONENT NAME}Manager</code> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the Logic component
defines its API in the <code>Logic.java</code> interface and exposes its functionality
using the <code>LogicManager.java</code> class.</p>
</div>
<div class="paragraph">
<p>The <em>Sequence Diagram</em> below shows how the components interact with one another after the user issues the command <code>delete 1</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SDforDeletePerson.png" alt="SDforDeletePerson" width="800">
</div>
<div class="title">Figure 10. Component interactions for <code>delete 1</code> command (part 1)</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Note how the Model component simply raises a <code>EventPlannerChangedEvent</code> when the data in EPIC is changed,
instead of asking the Storage component to save the updates to the hard disk.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The diagram below shows how the <code>EventsCenter</code> reacts to that event,
which eventually results in the updates being saved to the hard disk and the
status bar of the UI reflecting the 'Last Updated' time.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SDforDeletePersonEventHandling.png" alt="SDforDeletePersonEventHandling" width="800">
</div>
<div class="title">Figure 11. Component interactions for <code>delete 1</code> command (part 2)</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Note how the event is propagated through the <code>EventsCenter</code> to the Storage and UI components without
the Model component having to be coupled to either of them. This is an example of how the <em>Event Driven Design</em> helps us reduce direct coupling between components.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation"><a class="link" href="#implementation">4. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some noteworthy details on how certain features are implemented.</p>
</div>
<div class="sect2">
<h3 id="find-event-feature"><a class="link" href="#find-event-feature">4.1. Find Event Feature</a></h3>
<div class="paragraph">
<p>The <code>find-event</code> command enables the user to find events from the event list with keywords. The command finds all events whose names contain any of the given keywords. The user can further modify the events with <code>edit-event</code> or <code>delete-event</code> command once the event is found.</p>
</div>
<div class="paragraph">
<p><a href="#SDFEC">Figure 12</a> below shows how the <code>find-event</code> command is processed in the Logic component.</p>
</div>
<div id="SDFEC" class="imageblock">
<div class="content">
<img src="images/FindEventCommandSequenceDiagram.png" alt="FindEventCommandSequenceDiagram" width="650">
</div>
<div class="title">Figure 12. Sequence Diagram for find-event command</div>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">4.1.1. Current Implementation</a></h4>
<div class="paragraph">
<p>The <code>find-event</code> command input is passed into an <code>EventPlannerParser</code> object. The <code>EventPlannerParser</code> reads the command word “find-events” and creates a <code>FindEventCommandParser</code> object that further parses the command input and creates a <code>FindEventCommand</code>. The <code>FindEventCommand</code> filters the the event list based on the keywords and updates Model components on changes in the filtered event list.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">4.1.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-keyword-matching-pattern"><a class="link" href="#aspect-keyword-matching-pattern">Aspect: Keyword Matching Pattern</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Match any of the keywords</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The user can find multiple events given multiple keywords for events.</p>
</li>
<li>
<p>Cons: The user cannot pin-point an event if the keyword used for matching is also inside other event names.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Match all the keywords</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The find events function will be more targeted and precise.</p>
</li>
<li>
<p>Cons: The users cannot find different types of events at the same time.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3:</strong> Fuzzy search</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The user can find an event even if he/she has forgotten the name of the event.</p>
</li>
<li>
<p>Cons: It is harder to implement the find function.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="edit-person-event-features"><a class="link" href="#edit-person-event-features">4.2. Edit Person/Event Features</a></h3>
<div class="sect3">
<h4 id="previous-implementation"><a class="link" href="#previous-implementation">4.2.1. Previous Implementation</a></h4>
<div class="paragraph">
<p>In <a href="https://github.com/se-edu/addressbook-level4">AddressBook-Level4</a>, the <code>edit</code> command was performed by creating a new <code>Person</code> and passing it to a <code>UniquePersonList</code> in the model, which would then replace the to-be-edited <code>Person</code> with it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="type">int</span> index = internalList.indexOf(personToEdit);
    Person editedPerson = <span class="keyword">new</span> Person(name, ...);
    internalList.set(index, editedPerson);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="edit-curr-implementation"><a class="link" href="#edit-curr-implementation">4.2.2. Current Implementation</a></h4>
<div class="paragraph">
<p>In EPIC, the <code>edit</code> and <code>edit-event</code> commands are now implemented in a mutable manner - instead of replacing the to-be-edited <code>Person/EpicEvent</code> with the new one, we edit the details of the to-be-edited <code>Person/EpicEvent</code> directly.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="type">int</span> index = internalList.indexOf(personToEdit);
    Person editedPerson = <span class="keyword">new</span> Person(name, ...);
    internalList.get(index).setPerson(editedPerson); <span class="comment">// setPerson edits internal details using those of the supplied Person</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">4.2.3. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-implementation-of-code-edit-code"><a class="link" href="#aspect-implementation-of-code-edit-code">Aspect: Implementation of <code>edit</code></a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Edit in a mutable manner</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Since EPIC has both <code>EpicEvent</code> and <code>Person</code> objects, which maintain references to one another, editing a <code>Person/EpicEvent</code> in this manner automatically updates the <code>EpicEvent/Person</code> objects that is associated with it.</p>
</li>
<li>
<p>Cons: Implementation of <code>undo</code> will be more difficult.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Edit in an immutable manner</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Implementation of <code>undo</code> is easier, since we can just replace the current <code>EventPlanner</code> with the previous one.</p>
</li>
<li>
<p>Cons: Editing a <code>Person/EpicEvent</code> will require passing a copy of the newly-created <code>Person/EpicEvent</code> to all objects associated with the to-be-edited version, introducing significant overhead</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="undo-redo-features"><a class="link" href="#undo-redo-features">4.3. Undo/Redo Features</a></h3>
<div class="sect3">
<h4 id="current-implementation-2"><a class="link" href="#current-implementation-2">4.3.1. Current Implementation</a></h4>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by an <code>UndoRedoStack</code>, which resides inside <code>LogicManager</code>. It supports
undoing and redoing of commands that
modify the state of the event planner (e.g. <code>add</code>, <code>edit</code>). Such commands will inherit from <code>UndoableCommand</code>.</p>
</div>
<div class="paragraph">
<p><code>UndoRedoStack</code> only deals with <code>UndoableCommands</code>. Commands that cannot be undone will inherit from <code>Command</code> instead. <a href="#UCCD">Figure 13</a> shows the class diagram for commands:</p>
</div>
<div id="UCCD" class="imageblock">
<div class="content">
<img src="images/LogicCommandClassDiagram.png" alt="LogicCommandClassDiagram" width="800">
</div>
<div class="title">Figure 13. Class Diagram for commands</div>
</div>
<div class="paragraph">
<p>As you can see from the diagram, <code>UndoableCommand</code> adds an extra layer between the abstract <code>Command</code> class and concrete commands that can be undone, such as the <code>DeleteCommand</code>. Note that extra tasks need to be done when executing a command in an <em>undoable</em> way, such
as generating the opposite command before execution. <code>UndoableCommand</code> contains the high-level algorithm for those extra tasks while the child classes implements the details of how to execute the specific command. Note that this technique of putting the high-level algorithm
in the parent class and lower-level steps of the algorithm in child classes is also known as the <a href="https://www.tutorialspoint.com/design_pattern/template_pattern.htm">template pattern</a>.</p>
</div>
<div class="paragraph">
<p>Commands that are not undoable are implemented this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ListCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        <span class="comment">// ... list logic ...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With the extra layer, the commands that are undoable are implemented this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">abstract</span> <span class="type">class</span> <span class="class">UndoableCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        <span class="comment">// ... undo logic ...</span>

        executeUndoableCommand();
    }
}

<span class="directive">public</span> <span class="type">class</span> <span class="class">DeleteCommand</span> <span class="directive">extends</span> UndoableCommand {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult executeUndoableCommand() {
        <span class="comment">// ... delete logic ...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Suppose that the user has just launched the application. The <code>UndoRedoStack</code> will be empty at the beginning.</p>
</div>
<div class="paragraph">
<p>The user executes a new <code>UndoableCommand</code>, <code>delete 5</code>, to delete the 5th person in the event planner.
The current state of the event planner is saved before the <code>delete 5</code> command executes.
The <code>delete 5</code> command will then be pushed onto the <code>undoStack</code> (the current state is saved together with the command).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoStartingStackDiagram.png" alt="UndoRedoStartingStackDiagram" width="800">
</div>
<div class="title">Figure 14. How a delete command modifies the UndoRedoStack</div>
</div>
<div class="paragraph">
<p>As the user continues to use the program, more commands are added into the <code>undoStack</code>. For example, the user may execute
<code>add n/David &#8230;&#8203;</code> to add a new person.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand1StackDiagram.png" alt="UndoRedoNewCommand1StackDiagram" width="800">
</div>
<div class="title">Figure 15. How an add command modifies the UndoRedoStack</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a command fails its execution, it will not be pushed to the <code>UndoRedoStack</code> at all.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>oppositeCommands</code> for the <code>AddPersonCommand</code> and <code>DeletePersonCommand</code> above are different! The former is a <code>DeletePersonCommand</code>
while the latter is an <code>AddPersonCommand</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The user now decides that adding the person was a mistake, and decides to undo that action using <code>undo</code>.</p>
</div>
<div class="paragraph">
<p>We will pop the most recent command out of the <code>undoStack</code> and push it back to the <code>redoStack</code>. We will restore the event planner to the state before the <code>add</code> command is executed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoExecuteUndoStackDiagram.png" alt="UndoRedoExecuteUndoStackDiagram" width="800">
</div>
<div class="title">Figure 16. How an undo command utilises the UndoRedoStack</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>undoStack</code> is empty, there are no other commands left to be undone, and an <code>Exception</code> will be thrown when popping the <code>undoStack</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the undo operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoSequenceDiagram.png" alt="UndoRedoSequenceDiagram" width="800">
</div>
<div class="title">Figure 17. Sequence Diagram for the undo command</div>
</div>
<div class="paragraph">
<p>The redo does the exact opposite (pops from <code>redoStack</code>, push to <code>undoStack</code>, and performs the intention of the original command).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>redoStack</code> is empty, then there are no other commands left to be redone, and a <code>CommandException</code> will be thrown when popping the <code>redoStack</code>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
redo() does not simply execute the <code>Command</code> with the previous parameters! This would cause indexing issues with
commands like <code>delete</code> if <code>filteredPersons</code> had been altered by a <code>find</code> or other view command.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The user now decides to execute a new command, <code>clear</code>. As before, <code>clear</code> will be pushed into the <code>undoStack</code>. This time the <code>redoStack</code> is no longer empty. It will be purged as it no longer make sense to redo the <code>add n/David</code> command (this is the behavior that most modern desktop applications follow).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand2StackDiagram.png" alt="UndoRedoNewCommand2StackDiagram" width="800">
</div>
<div class="title">Figure 18. How a clear command modifies the UndoRedoStack</div>
</div>
<div class="paragraph">
<p>Commands that are not undoable are not added into the <code>undoStack</code>. For example, <code>list</code>, which inherits from <code>Command</code> rather than <code>UndoableCommand</code>, will not be added after execution:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand3StackDiagram.png" alt="UndoRedoNewCommand3StackDiagram" width="800">
</div>
<div class="title">Figure 19. A list command does not modify the UndoRedoStack</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens inside the <code>UndoRedoStack</code> when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoActivityDiagram.png" alt="UndoRedoActivityDiagram" width="650">
</div>
<div class="title">Figure 20. Activity Diagram for command execution</div>
</div>
</div>
<div class="sect3">
<h4 id="changes-from-previous-implementation"><a class="link" href="#changes-from-previous-implementation">4.3.2. Changes from Previous Implementation</a></h4>
<div class="paragraph">
<p>Instead of saving the entire event planner each time we execute an <code>UndoableCommand</code>, each <code>UndoableCommand</code> knows how to <code>undo/redo</code> itself.
Each <code>UndoableCommand</code> has an <code>oppositeCommand</code> field, which is another <code>UndoableCommand</code> that, when executed, reverses the changes made by the original command.
This <code>oppositeCommand</code> is generated as part of the <code>execute()</code> method, which is overridden in the <code>UndoableCommand</code> class.</p>
</div>
<div class="paragraph">
<p>The sequence diagram for the overridden <code>execute()</code> method is shown in <a href="#sdoverriddenexecute">Figure 21</a>, and that for the new <code>undo()</code> implementation in <a href="#sdundo">Figure 22</a>.</p>
</div>
<div id="sdoverriddenexecute" class="imageblock">
<div class="content">
<img src="images/ExecuteSequenceDiagram.png" alt="ExecuteSequenceDiagram" width="450">
</div>
<div class="title">Figure 21. Sequence Diagram for the overridden <code>execute()</code></div>
</div>
<div id="sdundo" class="imageblock">
<div class="content">
<img src="images/UndoSequenceDiagram.png" alt="UndoSequenceDiagram" width="450">
</div>
<div class="title">Figure 22. Sequence Diagram for new undo implementation</div>
</div>
<div class="paragraph">
<p>The <code>oppositeCommand</code> is generated in the <code>execute()</code> method, after <code>preprocessUndoableCommand()</code>. This is because generating the <code>oppositeCommand</code>
requires knowledge of the actual <code>Person/EpicEvent</code> objects to be modified. For example, the <code>oppositeCommand</code> for a <code>deletePersonCommand</code> is an <code>addPersonCommand</code>,
but we only know the person to be deleted after the pre-processing step.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Each <code>UndoableCommand</code> now requires its individual <code>generateOppositeCommand()</code> implementation. Hence, this method is made abstract in
the abstract class <code>UndoableCommand</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There was no <code>Command</code> that could easily reverse the changes of a <code>ClearCommand</code>, hence a new <code>Command</code> <code>RestoreCommand</code> had to be created. Since the sole purpose
of this command is to serve as the <code>oppositeCommand</code> of a <code>ClearCommand</code>, this command is not directly accessible to the user, and can only be executed when
the user undoes a <code>ClearCommand</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">4.3.3. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-undo-and-redo-executes"><a class="link" href="#aspect-how-undo-and-redo-executes">Aspect: How Undo and Redo Executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Store the minimal knowledge required to undo each command inside itself.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Significantly less memory is used (e.g. for <code>delete</code>, just save the person being deleted). Compatible with mutable commands.</p>
</li>
<li>
<p>Cons: Implementation is more complicated.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Save the entire event planner after every undoable command.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Implementation is easy.</p>
</li>
<li>
<p>Cons: Performance issues may result due to high memory usage. Also, this is incompatible with the mutable <code>edit</code> and <code>edit-event</code> implementations.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-implementation-of-code-undoablecommand-code"><a class="link" href="#aspect-implementation-of-code-undoablecommand-code">Aspect: Implementation of <code>UndoableCommand</code></a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Add a new abstract method <code>executeUndoableCommand()</code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Undo/redo functionality will now be part of the default behaviour. Classes that deal with <code>Command</code> will not have to know that <code>executeUndoableCommand()</code> exists.</p>
</li>
<li>
<p>Cons: New developers will find the template pattern difficult to understand.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Override <code>execute()</code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: New developers will not have to learn the above template pattern</p>
</li>
<li>
<p>Cons: Command classes that inherit from <code>UndoableCommand</code> must remember to call <code>super.execute()</code>, or lose the ability to be undone/redone.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-type-of-commands-that-can-be-undone-redone"><a class="link" href="#aspect-type-of-commands-that-can-be-undone-redone">Aspect: Type of Commands that Can be Undone/Redone</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Only include commands that modify the event planner (<code>add</code>, <code>clear</code>, <code>edit</code>).</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Only commands that cannot be easily reverted need to be implemented (the view can easily be re-modified as no data is * lost).</p>
</li>
<li>
<p>Cons: User might mistakenly think that undo also applies to view modification (e.g. filtering).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Include all commands.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: It might be more intuitive for the user.</p>
</li>
<li>
<p>Cons: User has no way of skipping such commands if he or she just want to reset the state of the event planner and not the view.
<strong>Additional Info:</strong> See the discussion  <a href="https://github.com/se-edu/addressbook-level4/issues/390#issuecomment-298936672">here</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-the-undo-redo-commands"><a class="link" href="#aspect-data-structure-to-support-the-undo-redo-commands">Aspect: Data Structure to Support the Undo/Redo Commands</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use separate stack for undo and redo</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easier for new Computer Science undergraduates to understand, who are likely to be new incoming developers of our project.</p>
</li>
<li>
<p>Cons: Logic is duplicated twice. For example, when a new command is executed, we must remember to update * both <code>HistoryManager</code> and <code>UndoRedoStack</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use <code>HistoryManager</code> for undo/redo</p>
<div class="ulist">
<ul>
<li>
<p>Pros: We do not need to maintain a separate stack, and just reuse what is already in the codebase.</p>
</li>
<li>
<p>Cons: Requires dealing with commands that have already been undone: We must remember to skip these commands. Violates Single Responsibility Principle and Separation of Concerns as <code>HistoryManager</code> now needs to do two * different things.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="register-deregister-features"><a class="link" href="#register-deregister-features">4.4. Register/Deregister Features</a></h3>
<div class="sect3">
<h4 id="current-implementation-3"><a class="link" href="#current-implementation-3">4.4.1. Current Implementation</a></h4>
<div class="paragraph">
<p>Each <code>EpicEvent</code> class maintains a <code>UniqueAttendanceList</code>, which contains references to the <code>Persons</code>
registered for that event. The association between <code>EpicEvent</code> and <code>Person</code> is unidirectional i.e.
a <code>Person</code> does not maintain references to the <code>EpicEvents</code> he/she has registered for.</p>
</div>
<div class="paragraph">
<p>When a <code>register</code> command is called, we first find the <code>PersonToRegister</code> using the index provided,
and the <code>EventToRegisterFor</code> using the name provided. Then, we call <code>registerPersonForEvent()</code> through
the <code>ModelManager</code>, which eventually calls the <code>registerPerson()</code> method of the <code>EpicEvent</code>.</p>
</div>
<div class="paragraph">
<p>This method not only adds the reference of the <code>Person</code> of the <code>EpicEvent</code>, but also increments a counter inside
the <code>Person</code>. This counter is used to check whether a <code>Person</code> is still registered for some event
when the user attempts to delete that <code>Person</code>.</p>
</div>
<div class="paragraph">
<p>The entire process is illustrated using the sequence diagram (<a href="#registerseq">Figure 23</a>) below.</p>
</div>
<div id="registerseq" class="imageblock">
<div class="content">
<img src="images/RegisterPersonCommandSequenceDiagram.png" alt="RegisterPersonCommandSequenceDiagram" width="650">
</div>
<div class="title">Figure 23. Sequence Diagram for the <code>register</code> command</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-4"><a class="link" href="#design-considerations-4">4.4.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-association-links-between-epicevent-and-person"><a class="link" href="#aspect-association-links-between-epicevent-and-person">Aspect: Association Links between EpicEvent and Person</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Make the EpicEvent-Person association unidirectional</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Implementation of the association is easier.</p>
</li>
<li>
<p>Cons: Some features might need the backward association link in future.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Make the EpicEvent-Person association bidirectional</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Features needing the backward association link can be more easily implemented - there is no
need to implement the link later.</p>
</li>
<li>
<p>Cons: Implementation of the association is much more complicated. Violates the <code>You Aren&#8217;t Gonna Need It (YAGNI)</code> principle.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="aspect-deletion-of-persons-still-registered-for-an-event"><a class="link" href="#aspect-deletion-of-persons-still-registered-for-an-event">4.4.3. Aspect: Deletion of Persons still Registered for an Event</a></h4>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Disallow deletion of persons still registered for an event</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Ensures that person&#8217;s details will be safeguarded until they are no longer required.</p>
</li>
<li>
<p>Cons: Implementation is more complicated.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Allow deletion of persons still registered for an event</p>
<div class="ulist">
<ul>
<li>
<p>Pros: User will not have to deregister persons/delete events before a person can be deleted.
Implementation is easier.</p>
</li>
<li>
<p>Cons: User might absentmindedly delete a person when his/her details are still required
(by an upcoming event he/she is registered for).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="list-registered-persons-feature"><a class="link" href="#list-registered-persons-feature">4.5. List Registered Persons Feature</a></h3>
<div class="sect3">
<h4 id="current-implementation-4"><a class="link" href="#current-implementation-4">4.5.1. Current Implementation</a></h4>
<div class="paragraph">
<p>A new feature in Java 8, <code>Predicate</code> supports the filtering of lists in a functional style.
To list the persons registered for an event, we create a <code>Predicate</code> that tests whether a <code>Person</code>
is in an <code>EpicEvent</code>, then pass it to <code>updateFilteredPersonList()</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="toggle-attendance-feature"><a class="link" href="#toggle-attendance-feature">4.6. Toggle Attendance Feature</a></h3>
<div class="sect3">
<h4 id="current-implementation-5"><a class="link" href="#current-implementation-5">4.6.1. Current Implementation</a></h4>
<div class="paragraph">
<p>The implementation uses a class called <code>Attendance</code>. An instance of <code>Attendance</code> is created every time a person registers to an event and
it is stored inside the <code>EpicEvent</code>. The instance stores the corresponding <code>EpicEvent</code> and <code>Person</code>
and stores a <code>boolean</code> representing whether the person has attended the event.
This reduces coupling between the <code>Person</code> and <code>EpicEvent</code> class and allows the event
to have access to all its registrants so that adding, removing and listing registrants are
easy to implement.</p>
</div>
<div class="paragraph">
<p>When the <code>toggle</code> command is called, an instance of <code>ToggleAttendanceCommand</code> is created
and it uses the index provided to find and save a reference to the <code>Attendance</code> object
to be toggled. This is done so that the command can be undone by toggling the exact same
<code>Attendance</code> object. <a href="#TCD">Figure 24</a> below shows how the <code>toggle</code> command is processed
in the logic component.</p>
</div>
<div id="TCD" class="imageblock">
<div class="content">
<img src="images/ToggleAttendanceCommandSequenceDiagram.png" alt="ToggleAttendanceCommandSequenceDiagram" width="800">
</div>
<div class="title">Figure 24. Sequence Diagram for toggle command</div>
</div>
<div class="paragraph">
<p>When the <code>ToggleAttendanceCommand</code> is executed, it obtains the relevant <code>Person</code> and
<code>EpicEvent</code> from the stored <code>Attendance</code> object and triggers <code>toggleAttendance</code> from
the <code>Model</code>. After which, the relevant <code>Attendance</code> object is replaced with a copy
where the <code>hasAttendedEventProperty</code> is toggled.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-5"><a class="link" href="#design-considerations-5">4.6.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-location-of-instances-of-code-attendance-code-objects"><a class="link" href="#aspect-location-of-instances-of-code-attendance-code-objects">Aspect: Location of Instances of <code>Attendance</code> Objects</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Store in <code>EpicEvent</code> object</p>
<div class="ulist">
<ul>
<li>
<p>Pros: There is less coupling between <code>Person</code> and `EpicEvent and it is easier for event to keep track of attendance list.
It is also easier for UI to display the attendance list.</p>
</li>
<li>
<p>Cons: It is more difficult for <code>EventPlanner</code> to track which events a person is registered for so deleting a person requires
checking through all the events to delete a person properly.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Store in <code>EventPlanner</code> object</p>
<div class="ulist">
<ul>
<li>
<p>Pros: It is easier for <code>EventPlanner</code> to track which events a person is registered to and thus making
some person commands such as delete persons easier.</p>
</li>
<li>
<p>Cons: An <code>EpicEvent</code> needs to search through the entire list of <code>Attendance</code> objects in <code>EventPlanner</code> to find out
which persons are registered to itself. This can be very slow if the number of <code>Attendance</code> objects is very large.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="aspect-mutability-of-code-attendance-code-objects"><a class="link" href="#aspect-mutability-of-code-attendance-code-objects">4.6.3. Aspect: Mutability of <code>Attendance</code> Objects</a></h4>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Make <code>Attendance</code> objects immutable</p>
<div class="ulist">
<ul>
<li>
<p>Pros: It is easier to track changes in <code>Attendance</code> objects as changes can be detected by a replacement of the
<code>Attendance</code> object in the attendance list.</p>
</li>
<li>
<p>Cons: It is more difficult to implement since the entire object has to be replaced whenever
a change needs to be made, such as when marking attendance.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Make <code>Attendance</code> objects mutable</p>
<div class="ulist">
<ul>
<li>
<p>Pros: It is easier to implement marking of attendance since the <code>hasAttended</code> property
inside the object can be directly mutated.</p>
</li>
<li>
<p>Cons: It is more difficult to track the changes since mutating the object does not directly
trigger any events.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="aspect-method-of-marking-attendance"><a class="link" href="#aspect-method-of-marking-attendance">4.6.4. Aspect: Method of Marking Attendance</a></h4>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Have one command to toggle attendance from attended to not attended and vice versa</p>
<div class="ulist">
<ul>
<li>
<p>Pros: It is easier to undo the command since toggling is always valid while marking a participant
has attended may not always be valid since that person may have already been marked as attended so undoing
the command has to account for that.</p>
</li>
<li>
<p>Cons: It is less intuitive for the user since the result of toggling
depends on the current state of the attendance.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Have two separate commands: one for marking participant as attended and one for marking
as not attended</p>
<div class="ulist">
<ul>
<li>
<p>Pros: It is more intuitive for the user since marking as attended and not attended is a direct action.</p>
</li>
<li>
<p>Cons: It is harder to undo the command since the command may not be successful if for example the participant
has already been marked as attended when the user tries to mark the participant as attended.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="find-registrant-feature"><a class="link" href="#find-registrant-feature">4.7. Find Registrant Feature</a></h3>
<div class="paragraph">
<p>The <code>find-registrant</code> command enables users to filter registrants of an event with keywords. Only registrants
whose names contain any of the given keywords will be listed. The user can further toggle the attendance of the
registrants with the <code>toggle</code> command.</p>
</div>
<div class="paragraph">
<p><a href="#SDSEC">Figure 25</a> below shows how the <code>find-registrant</code> command is processed in the Logic component.</p>
</div>
<div id="SDSEC" class="imageblock">
<div class="content">
<img src="images/FindRegistrantSequenceDiagram.png" alt="FindRegistrantSequenceDiagram" width="650">
</div>
<div class="title">Figure 25. Sequence Diagram for <code>find-registrant</code> command</div>
</div>
<div class="sect3">
<h4 id="current-implementation-6"><a class="link" href="#current-implementation-6">4.7.1. Current Implementation</a></h4>
<div class="paragraph">
<p>The <code>find-registrant</code> command is passed to the <code>EventPlannerParser</code> object when then reads the parses the input and
returns a <code>FindRegistrantCommand</code> object. When the <code>FindRegistrantCommand</code> object is executed, the Model filters the
list of registrants and the Attendance List Panel is updated.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-6"><a class="link" href="#design-considerations-6">4.7.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-keyword-matching-pattern-2"><a class="link" href="#aspect-keyword-matching-pattern-2">Aspect: Keyword Matching Pattern</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: Match any of the keywords</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The user can find multiple registrants using multiple keywords.</p>
</li>
<li>
<p>Cons: If the user will not be able to search by full name as other registrants might be matched as well.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: Match all keywords</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The user can search by full name.</p>
</li>
<li>
<p>Cons: Matching all keywords might be too restrictive and would not a useful filter to narrow down registrants.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3</strong> Fuzzy Search</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The user can filter registrants with approximate keywords.</p>
</li>
<li>
<p>Cons: It is harder to implement fuzzy search.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="three-pane-ui"><a class="link" href="#three-pane-ui">4.8. Three-Pane UI</a></h3>
<div class="paragraph">
<p>The new UI is a three-pane UI consisting of a list of persons, events, and registrants for the selected event. Being able to
 view all three panes will allow the user to read off the desired command parameters without having to switch between
  lists.</p>
</div>
<div class="paragraph">
<p>In addition, <code>edit</code> and <code>edit-command</code> commands are now implemented in a mutable manner
 (see <a href="#edit-curr-implementation">Section 4.2.2</a>). As a result, the <code>ObservableList</code> that wraps the people and event data will no
 longer be notified of changes. The new UI must be notified of changes to data so it can refresh itself to reflect
 such changes. The UI will also have to respond to new commands such as the <code>select-event</code> and <code>toggle</code>.
 The <code>select-event</code> could invoke a change in the contents of the Attendance List Panel and <code>toggle</code> will toggle the
 attendance status and is reflected in the UI in the form of the attendance icon change.</p>
</div>
<div class="sect3">
<h4 id="current-implementation-7"><a class="link" href="#current-implementation-7">4.8.1. Current Implementation</a></h4>
<div class="paragraph">
<p>The UI now consists of 3 list panes: <code>PersonListPanel</code>, <code>EpicEventListPanel</code> and <code>AttendanceListPanel</code>. Each pane is a list of <code>PersonCard</code>, <code>EpicEventCard</code> and <code>AttendanceCard</code> respectively. Since the <code>AttendanceCard</code> has the same UI as <code>PersonCard</code> with the addition of the toggle icon, it extends <code>PersonCard</code>. The <code>model</code> maintains a <code>selectedEpicEvent</code> variable whose registrants will be displayed in the <code>AttendancePanel</code>.</p>
</div>
<div class="paragraph">
<p>In order to get the <code>AttendanceListPanel</code> to instantly update its elements, we employ the JavaFX Bean Pattern. We listen to changes to object properties by using the JavaBeans API to represent the properties.</p>
</div>
<div class="paragraph">
<p>The <code>Person</code> class is implemented this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Person</span> <span class="directive">extends</span> SimpleObjectProperty {

    <span class="comment">// ... Person logic ...</span>

    <span class="comment">/**
     * Edits this person by transferring the fields of dummyPerson over.
     * Used for the mutable edit command
     */</span>
    <span class="directive">public</span> <span class="type">void</span> setPerson(Person dummyPerson) {
        <span class="comment">// ... setPerson logic ...</span>
        fireValueChangedEvent();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This way, editing <code>Person</code> calls <code>fireValueChangedEvent()</code> which informs JavaFX of the content change and triggers an UI refresh.</p>
</div>
<div class="paragraph">
<p>To listen to changes in attendance. We enable the <code>AttendanceList</code> to report changes on the element by providing a properties extractor. First, we use the JavaBeans API to represent properties of <code>Attendance</code> that we want to listen to, which is the <code>hasAttendedEventProperty</code>, a <code>BooleanProperty</code> object.</p>
</div>
<div class="paragraph">
<p>We then use an Extractor which is a Callback containing an array of <code>Observables</code> which are then observed by the <code>ObservableList</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Callback</span>&lt;Attendance, javafx.beans.Observable<span class="type">[]</span>&gt; extractor = attendance -&gt; <span class="keyword">new</span> javafx.beans.Observable<span class="type">[]</span> {
                attendance.getPerson(), attendance.getHasAttendedEventProperty()};</code></pre>
</div>
</div>
<div class="paragraph">
<p>By using the JavaBeans API to handle UI updates, the programmer does not have to care about manually refreshing the UI upon data updates.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-7"><a class="link" href="#design-considerations-7">4.8.2. Design Considerations</a></h4>
<div class="paragraph">
<p>When deciding on the UI, the following aspects of user experience were considered:</p>
</div>
<div class="sect4">
<h5 id="aspect-overall-ui-design"><a class="link" href="#aspect-overall-ui-design">Aspect: Overall UI Design</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: A three-pane UI consisting of list of persons, events, and registrants for the selected event</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The user can view all 3 lists at the same time. He would know what arguments to supply when typing commands as he can read them off the list.</p>
</li>
<li>
<p>Cons: The UI might become too cluttered as there are too many UI elements. However, given that EPIC is meant for modern computers with large displays, this should not be an issue.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2 (previous choice)</strong>: two-pane UI where the left pane is a 2 tab pane consisting of a list of persons and events, and the right pane is a list of registrants.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Merging the horizontal space for the list of persons and events will create more space for list of registrants. The user is likely to be more interested in the registrants' details.</p>
</li>
<li>
<p>Cons: If the user needs to access data for some tabbed pane that is not in focus to fill out a command, this would break his workflow. The user will have to delete his current command, execute a command to set focus to the desired tab, memorize the required details and reenter his previous command.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3</strong>: A common list that can display either list of persons, events or registrants for the selected event</p>
<div class="ulist">
<ul>
<li>
<p>Pros: We only have to make minimal changes to the UI layout.</p>
</li>
<li>
<p>Cons: Events, persons, and registrants must be displayed using the same <code>Card</code> class. This would result in tight coupling of the display graphics logic  for the three lists.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-updating-ui-when-data-changes"><a class="link" href="#aspect-updating-ui-when-data-changes">Aspect: Updating UI when Data Changes</a></h5>
<div class="paragraph">
<p>Previously, changes to <code>Person</code> would create a new <code>Person</code> object that would replace the previous object, triggering a UI refresh. Now that such changes to <code>Peron</code>, <code>EpicEvent</code> and <code>Attendance</code> objects only mutate it, the <code>ListView</code> is unable to listen to such changes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Alternative 1 (current choice): Use the JavaFX Beans Convention</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Using the JavaBeans API to represent a property of an object allows property changes to be propagated to property change listeners. This is an elegant way to get the <code>ListView</code> to instantly update its elements.</p>
</li>
<li>
<p>Cons: Using the JavaBeans API to represent object properties introduces coupling between the Model and UI components.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative 2: Force all commands that change data to invoke a UI refresh</p>
<div class="ulist">
<ul>
<li>
<p>Pros: It is straightforward to force a <code>ListView</code> UI refresh by invoking its <code>refresh()</code> method.</p>
</li>
<li>
<p>Cons: We will have to ensure that any action that could modify data force a UI refresh. In addition, constantly invoking a UI refresh could become a resource hog.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="binding-data-to-attendance-panel"><a class="link" href="#binding-data-to-attendance-panel">4.8.3. Binding Data to Attendance Panel</a></h4>
<div class="ulist">
<ul>
<li>
<p>Alternative 1 (current choice): Wrap the selected <code>EpicEvent</code> in an <code>EpicEventObservable</code> object to listen for changes</p>
<div class="ulist">
<ul>
<li>
<p>Pros: We can listen to changes in the <code>EpicEventObservable</code> object to trigger a UI update.</p>
</li>
<li>
<p>Cons: Creating a new class introduces more code bloat.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative 1 (current choice): Bind <code>ObservableEpicEvent</code> to the Attendance Panel</p>
<div class="ulist">
<ul>
<li>
<p>Pros: As <code>ObservableEpicEvent</code> extends <code>Observable</code>, it can listen to when the selected event changes and update the Attendance Panel accordingly.</p>
</li>
<li>
<p>Cons: More code has to be written and maintained as we are introducing an additional layer of abstraction.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative 2: Bind <code>ObservableList&lt;Attendance&gt;</code> to the Attendance Panel</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Binding data to the Attendance Panel is straightforward and the approach used to data to the People and Events Panels can be used here too.</p>
</li>
<li>
<p>Cons: Logic to handle the switching of selected events is moved up to the <code>MainWindow</code>, increasing coupling between the <code>MainWindow</code> and <code>AttendanceListPanel</code>. It is a violation of Single Responsibility Principle as the <code>MainWindow</code> should only be concerned with displaying the main layout.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">4.9. Logging</a></h3>
<div class="paragraph">
<p>We are using <code>java.util.logging</code> package for logging. The <code>LogsCenter</code> class is used to manage the logging levels and logging destinations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code>logLevel</code> setting in the configuration file (See <a href="#Implementation-Configuration">[Implementation-Configuration]</a>)</p>
</li>
<li>
<p>The <code>Logger</code> for a class can be obtained using <code>LogsCenter.getLogger(Class)</code> which will log messages according to the specified logging level</p>
</li>
<li>
<p>Currently log messages are output through: <code>Console</code> and to a <code>.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Logging Levels</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEVERE</code> : Critical problem detected which may possibly cause the termination of the application</p>
</li>
<li>
<p><code>WARNING</code> : Can continue, but with caution</p>
</li>
<li>
<p><code>INFO</code> : Information showing the noteworthy actions by the App</p>
</li>
<li>
<p><code>FINE</code> : Details that is not usually noteworthy but may be useful in debugging e.g. print the actual list instead of just its size</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Certain properties of the application can be controlled (e.g App name, logging level) through the configuration file (default: <code>config.json</code>).
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="proposed-mass-registration"><a class="link" href="#proposed-mass-registration">4.10. [Proposed] Mass Registration</a></h3>
<div class="sect3">
<h4 id="proposed-implementation"><a class="link" href="#proposed-implementation">4.10.1. Proposed Implementation</a></h4>
<div class="paragraph">
<p>This feature is proposed to allow for mass registration of multiple persons to a single event.
The proposed implementation is to make use of tags to select groups of persons to register for an event.
Currently, the <code>Tag</code> class has been split into <code>PersonTag</code> and <code>EpicEventTag</code> so as to
differentiate between the two. This allows for searching of persons by <code>PersonTag</code> and searching for events by <code>EpicEventTag</code>.
By doing so, a group of persons can be filtered by <code>PersonTag</code> and thus registered to an event
by iteratively registering each person without requiring the user to register each person individually.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proposed-export-an-event"><a class="link" href="#proposed-export-an-event">4.11. [proposed] Export an Event</a></h3>
<div class="paragraph">
<p>The proposed export command exports the names of the registrants, their phone numbers,
their email addresses, their home addresses and their attendance information of a particular
event to a csv file into a file path specified by the user. Having all the information of a
particular event in a csv file would enable the user to analyse the data using other tools.</p>
</div>
<div class="sect3">
<h4 id="proposed-implementation-2"><a class="link" href="#proposed-implementation-2">4.11.1. [proposed] Implementation</a></h4>
<div class="paragraph">
<p>The <code>export-event</code> command input is first parsed in <code>EventPlannerParser</code> to create an <code>ExportEventCommand</code>.
The execution of it creates a <code>CsvEventPlannerStorage</code>. The subsequent export mechanism is handled by a <code>CsvEventPlannerStorage</code> where event data is parsed by <code>CsvUtil</code> and then exported as a file through <code>CsvFileStorage</code> using the file path specified by the user.</p>
</div>
<div class="paragraph">
<p><a href="#SDCSV">Figure 26</a> below shows how the csv event export is processed in the storage component.</p>
</div>
<div id="SDCSV" class="imageblock">
<div class="content">
<img src="images/ExportEventSequenceDiagram.png" alt="ExportEventSequenceDiagram" width="650">
</div>
<div class="title">Figure 26. Sequence Diagram for csv export</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-8"><a class="link" href="#design-considerations-8">4.11.2. Design Considerations</a></h4>
<div class="paragraph">
<p>When deciding on the export options, the following aspects of user experience are considered.</p>
</div>
<div class="sect4">
<h5 id="aspect-data-to-be-exported"><a class="link" href="#aspect-data-to-be-exported">Aspect: Data to be Exported</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: Name of the registrants, their phone number, their email address, their home address and their attendance information for the event</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The information includes almost all the data users need for an event. The parsing of the data is straight forward.</p>
</li>
<li>
<p>Cons: The tags of the registrants are not exported.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: All information for registrants including their tags</p>
<div class="ulist">
<ul>
<li>
<p>Pros: More information for users as compared to current implementation.</p>
</li>
<li>
<p>Cons: The registrants may have zero or multiple tags. The uncertainty in the number of tags make parsing messy.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="aspect-format-of-exported-files"><a class="link" href="#aspect-format-of-exported-files">4.11.3. Aspect: Format of Exported Files</a></h4>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: csv files</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The format can be imported and then processed by most data processing software in the market.</p>
</li>
<li>
<p>Cons: The files are not reader friendly if they are open directly as a text file.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: excel files</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Excel files are well formatted when opened with Microsoft Excel software.</p>
</li>
<li>
<p>Cons: Even though Microsoft Excel software is used by many people, some may prefer other data processing software that supports csv files but not excel files.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation"><a class="link" href="#documentation">5. Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>We use asciidoc for writing documentation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We chose asciidoc over Markdown because asciidoc, although a bit more complex than Markdown, provides more flexibility in formatting.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="editing-documentation"><a class="link" href="#editing-documentation">5.1. Editing Documentation</a></h3>
<div class="paragraph">
<p>See <a href="UsingGradle.html#rendering-asciidoc-files">UsingGradle.adoc</a> to learn how to render <code>.adoc</code> files locally to preview the end result of your edits.
Alternatively, you can download the AsciiDoc plugin for IntelliJ, which allows you to preview the changes you have made to your <code>.adoc</code> files in real-time.</p>
</div>
</div>
<div class="sect2">
<h3 id="publishing-documentation"><a class="link" href="#publishing-documentation">5.2. Publishing Documentation</a></h3>
<div class="paragraph">
<p>See <a href="UsingTravis.html#deploying-github-pages">UsingTravis.adoc</a> to learn how to deploy GitHub Pages using Travis.</p>
</div>
</div>
<div class="sect2">
<h3 id="converting-documentation-to-pdf-format"><a class="link" href="#converting-documentation-to-pdf-format">5.3. Converting Documentation to PDF Format</a></h3>
<div class="paragraph">
<p>We use <a href="https://www.google.com/chrome/browser/desktop/">Google Chrome</a> for converting documentation to PDF format, as Chrome&#8217;s PDF engine preserves hyperlinks used in webpages.</p>
</div>
<div class="paragraph">
<p>Here are the steps to convert the project documentation files to PDF format.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the instructions in <a href="UsingGradle.html#rendering-asciidoc-files">UsingGradle.adoc</a> to convert the AsciiDoc files in the <code>docs/</code> directory to HTML format.</p>
</li>
<li>
<p>Go to your generated HTML files in the <code>build/docs</code> folder, right click on them and select <code>Open with</code> &#8594; <code>Google Chrome</code>.</p>
</li>
<li>
<p>Within Chrome, click on the <code>Print</code> option in Chrome&#8217;s menu.</p>
</li>
<li>
<p>Set the destination to <code>Save as PDF</code>, then click <code>Save</code> to save a copy of the file in PDF format. For best results, use the settings indicated in the screenshot below.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/chrome_save_as_pdf.png" alt="chrome save as pdf" width="300">
</div>
<div class="title">Figure 27. Saving documentation as PDF files in Chrome</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Testing"><a class="link" href="#Testing">6. Testing</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="running-tests"><a class="link" href="#running-tests">6.1. Running Tests</a></h3>
<div class="paragraph">
<p>There are three ways to run tests.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The most reliable way to run tests is the 3rd one. The first two methods might fail some GUI tests due to platform/resolution-specific idiosyncrasies.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Method 1: Using IntelliJ JUnit test runner</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>To run all tests, right-click on the <code>src/test/java</code> folder and choose <code>Run 'All Tests'</code></p>
</li>
<li>
<p>To run a subset of tests, you can right-click on a test package, test class, or a test and choose <code>Run 'ABC'</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Method 2: Using Gradle</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open a console and run the command <code>gradlew clean allTests</code> (Mac/Linux: <code>./gradlew clean allTests</code>)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="UsingGradle.html">UsingGradle.adoc</a> for more info on how to run tests using Gradle.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Method 3: Using Gradle (headless)</strong></p>
</div>
<div class="paragraph">
<p>Thanks to the <a href="https://github.com/TestFX/TestFX">TestFX</a> library we use, our GUI tests can be run in the <em>headless</em> mode. In the headless mode, GUI tests do not show up on the screen. That means the developer can do other things on the Computer while the tests are running.</p>
</div>
<div class="paragraph">
<p>To run tests in headless mode, open a console and run the command <code>gradlew clean headless allTests</code> (Mac/Linux: <code>./gradlew clean headless allTests</code>)</p>
</div>
</div>
<div class="sect2">
<h3 id="types-of-tests"><a class="link" href="#types-of-tests">6.2. Types of Tests</a></h3>
<div class="paragraph">
<p>We have two types of tests:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>GUI Tests</strong> - These are tests involving the GUI. They include,</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>System Tests</em> that test the entire App by simulating user actions on the GUI. These are in the <code>systemtests</code> package.</p>
</li>
<li>
<p><em>Unit tests</em> that test the individual components. These are in <code>seedu.address.ui</code> package.</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Non-GUI Tests</strong> - These are tests not involving the GUI. They include,</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>Unit tests</em> targeting the lowest level methods/classes.<br>
e.g. <code>seedu.address.commons.StringUtilTest</code></p>
</li>
<li>
<p><em>Integration tests</em> that are checking the integration of multiple code units (those code units are assumed to be working).<br>
e.g. <code>seedu.address.storage.StorageManagerTest</code></p>
</li>
<li>
<p>Hybrids of unit and integration tests. These test are checking multiple code units as well as how the are connected together.<br>
e.g. <code>seedu.address.logic.LogicManagerTest</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="troubleshooting-testing"><a class="link" href="#troubleshooting-testing">6.3. Troubleshooting Testing</a></h3>
<div class="paragraph">
<p><strong>Problem: <code>HelpWindowTest</code> fails with a <code>NullPointerException</code>.</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reason: One of its dependencies, <code>UserGuide.html</code> in <code>src/main/resources/docs</code> is missing.</p>
</li>
<li>
<p>Solution: Execute Gradle task <code>processResources</code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-ops"><a class="link" href="#dev-ops">7. Dev Ops</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="build-automation"><a class="link" href="#build-automation">7.1. Build Automation</a></h3>
<div class="paragraph">
<p>See <a href="UsingGradle.html">UsingGradle.adoc</a> to learn how to use Gradle for build automation.</p>
</div>
</div>
<div class="sect2">
<h3 id="continuous-integration"><a class="link" href="#continuous-integration">7.2. Continuous Integration</a></h3>
<div class="paragraph">
<p>We use <a href="https://travis-ci.org/">Travis CI</a> and <a href="https://www.appveyor.com/">AppVeyor</a> to perform <em>Continuous Integration</em> on our projects. See <a href="UsingTravis.html">UsingTravis.adoc</a> and <a href="UsingAppVeyor.html">UsingAppVeyor.adoc</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="coverage-reporting"><a class="link" href="#coverage-reporting">7.3. Coverage Reporting</a></h3>
<div class="paragraph">
<p>We use <a href="https://coveralls.io/">Coveralls</a> to track the code coverage of our projects. See <a href="UsingCoveralls.html">UsingCoveralls.adoc</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="documentation-previews"><a class="link" href="#documentation-previews">7.4. Documentation Previews</a></h3>
<div class="paragraph">
<p>When a pull request has changes to asciidoc files, you can use <a href="https://www.netlify.com/">Netlify</a> to see a preview of how the HTML version of those asciidoc files will look like when the pull request is merged. See <a href="UsingNetlify.html">UsingNetlify.adoc</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="making-a-release"><a class="link" href="#making-a-release">7.5. Making a Release</a></h3>
<div class="paragraph">
<p>Here are the steps to create a new release.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Update the version number in <a href="https://github.com/CS2103JAN2018-W13-B2/main/blob/master/src/main/java/seedu/address/MainApp.java"><code>MainApp.java</code></a>.</p>
</li>
<li>
<p>Generate a JAR file <a href="UsingGradle.html#creating-the-jar-file">using Gradle</a>.</p>
</li>
<li>
<p>Tag the repo with the version number. e.g. <code>v0.1</code></p>
</li>
<li>
<p><a href="https://help.github.com/articles/creating-releases/">Create a new release using GitHub</a> and upload the JAR file you created.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="managing-dependencies"><a class="link" href="#managing-dependencies">7.6. Managing Dependencies</a></h3>
<div class="paragraph">
<p>A project often depends on third-party libraries. For example, EPIC depends on the <a href="http://wiki.fasterxml.com/JacksonHome">Jackson library</a> for XML parsing. Managing these <em>dependencies</em> can be automated using Gradle. For example, Gradle can download the dependencies automatically, which is better than these alternatives.<br>
a. Include those libraries in the repo (this bloats the repo size)<br>
b. Require developers to download those libraries manually (this creates extra work for developers)</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-scope"><a class="link" href="#product-scope">Appendix A: Product Scope</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Target user profile</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>has to plan school events with a large attendance size</p>
</li>
<li>
<p>prefer desktop apps over other types</p>
</li>
<li>
<p>can type fast</p>
</li>
<li>
<p>prefers typing over mouse input</p>
</li>
<li>
<p>is reasonably comfortable using CLI apps</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Value proposition</strong>: streamline attendance taking and registration of event participants, far superior to traditional pen and paper registration</p>
</div>
<div class="paragraph">
<p><strong>Feature Contribution</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Raynold Ng:</p>
<div class="ulist">
<ul>
<li>
<p>Minor: Add commands for searching list of registrants and displaying all registrants. This allows the user to filter list of registrants from a list of keywords.</p>
</li>
<li>
<p>Major: Implemented a three pane view (persons, events, and event participant). The user should be able to view persons, events and registrants of an event at the same time. That would also allow the user to execute event administration commands as he can view both events and contacts at the same time.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Wei Liang:</p>
<div class="ulist">
<ul>
<li>
<p>Minor: Adding of EpicEvent class to keep track of events and a command to add an event. This facilitates the implementation of the other commands to manipulate events.</p>
</li>
<li>
<p>Major: Toggling of attendance for each event participant. This facilitates the attendance portion of the event planner.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Jiang Yue:</p>
<div class="ulist">
<ul>
<li>
<p>Minor: Persistent storage. The user should be able to have their data retained after the app is closed so that they can continue their edits when they open the app next time.</p>
</li>
<li>
<p>Major: Adding commands to modify EpicEvents in the eventlist. The commands implemented include <code>delete-event</code>, <code>find-event</code> and <code>edit-event</code>. The commands allow user to locate an event with <code>find-event</code> and then to modify the located event by deleting the event or editing the information of the event with <code>delete-event</code> and <code>edit-event</code> respectively.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Wei Heng:</p>
<div class="ulist">
<ul>
<li>
<p>Minor: Adding commands for Person-EpicEvents interactions, which includes adding new fields/methods to the EpicEvent class. The commands implemented include <code>register</code>, <code>deregister</code> and <code>list-registered</code>. The commands allow user to register/deregister a person to/from an event, as well as list an event&#8217;s register in the UI.</p>
</li>
<li>
<p>Major: Revamp of undo/redo feature. Currently, the entire EventPlanner is saved every time an UndoableCommand is executed, which is a huge drain on memory and violates important non-functional requirements relating to capacity of EventPlanner. Each UndoableCommand will have an UndoableCommand oppositeCommand, which it will execute to reverse the changes made by the original command. This will also allow edit&#8217;s behavior to be mutable, so we may modify an event/person directly without passing a new copy to every single person/event that is in it/it is in.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-stories"><a class="link" href="#user-stories">Appendix B: User Stories</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Priorities: High (must have) - <code>* * *</code>, Medium (nice to have) - <code>* *</code>, Low (unlikely to have) - <code>*</code></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 59%;">
<colgroup>
<col style="width: 22%;">
<col style="width: 23%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see usage instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer to instructions when I forget how to use the App</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see an onboarding guide</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">familiarize myself with the application</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add a new participant</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete a participant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove a participant that has withdrawn from the event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list all participants for the event</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">edit a participant’s details</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">update a participant’s details upon request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mark attendance for a participant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know who attended the event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find a participant by name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">locate a participant without going through the entire list of participants</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have all participant’s data in persistent storage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">close the program without losing my data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set privacy settings</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">meet PDPA guideline</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create multiple events</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add the same user to multiple events</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use the same, stored information across multiple events</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner managing large events</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">import participant contact information from csv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">quickly add participants without manual typing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner managing large events</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">export participant contact information as csv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use the data for other applications (e.g. presentation, data analysis)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner managing many participants</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find a participant by his/her initials</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find persons quickly</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">manage participants based on tags</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mass register/delete participants belonging to a certain group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">participant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mark my attendance by scanning a QR code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">make the process of marking attendance quicker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">participant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mark my attendance by scanning a card with an RFID chip</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">make the process of marking attendance quicker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fuzzy search contacts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find the relevant contact even if I do not know his/her complete name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">participant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mark my attendance by scanning an NFC tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">make the process of marking attendance quicker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">participant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see where I should be seated at the venue when I mark my attendance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find my seating location quicker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">synchronize application data across multiple devices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">collaboratively edit participant information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">participant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add feedback for the event</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">send out a mass email to all participants</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">send out information such as event details and QR codes quickly</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">make my edits synchronized in real time across all devices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">parallelize the registration and attendance taking process</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">automatically email a reminder to all participants near the event date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ensure participants do not accidentally forget about the event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">type commands in natural language</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">do without memorising the syntax for every command</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tech-savvy event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set hotkeys for commands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">shorten frequently used commands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">export event details (attendance rate, feedback etc) in a presentable format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">do an after action review of the event</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">event planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">conduct a lucky draw for event participants</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="link" href="#use-cases">Appendix C: Use Cases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>(For all use cases below, the <strong>System</strong> is the <code>EventPlanner</code> and the <strong>Actor</strong> is the <code>user</code>, unless specified otherwise)</p>
</div>
<h3 id="use-case-find-person-by-name" class="discrete">Use Case: Find Person by Name</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to find persons with a particular name</p>
</li>
<li>
<p>EventPlanner shows a list of persons with entered name</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The list is empty.</p>
<div class="ulist">
<ul>
<li>
<p>2a1. EventPlanner alerts the user that there is no such person with name</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-delete-person" class="discrete">Use Case: Delete Person</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to list persons</p>
</li>
<li>
<p>EventPlanner shows a list of persons</p>
</li>
<li>
<p>User requests to delete a specific person in the list</p>
</li>
<li>
<p>EventPlanner deletes the person</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The list is empty.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>3a. The given index is invalid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. EventPlanner shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-edit-person" class="discrete">Use Case: Edit Person</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to list persons</p>
</li>
<li>
<p>EventPlanner shows a list of persons</p>
</li>
<li>
<p>User requests to edit a specific person in the list</p>
</li>
<li>
<p>EventPlanner edits the person’s details</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The list is empty.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>3a. The given index is invalid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. EventPlanner shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>3b. The edit string following the command is invalid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3b1. EventPlanner shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-mark-event-attendee-s-attendance" class="discrete">Use Case: Mark Event Attendee&#8217;s Attendance</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to find persons by name</p>
</li>
<li>
<p>EventPlanner shows a list of persons</p>
</li>
<li>
<p>User requests to mark the attendance of that person</p>
</li>
<li>
<p>EventPlanner marks the attendance of that person</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. No persons are found.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>3a. The given index is invalid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. EventPlanner shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should work on any <a href="#mainstream-os">mainstream OS</a> as long as it has Java <code>1.8.0_60</code> or higher installed.</p>
</li>
<li>
<p>Should be able to hold up to 50000 persons.</p>
</li>
<li>
<p>A user with above average typing speed for regular English text (i.e. not code, not system admin commands) should be able to accomplish most of the tasks faster using commands than using the mouse.</p>
</li>
<li>
<p>Should come with automated unit tests and open source code.</p>
</li>
<li>
<p>Should work on both 32-bit and 64-bit environments.</p>
</li>
<li>
<p>Should respond to any command within one second</p>
</li>
<li>
<p>Should be able to be used by programmers and non-programmers alike</p>
</li>
<li>
<p>Should not result in a large binary (more than 5mb)</p>
</li>
<li>
<p>Packaging should take care of dependencies</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix E: Glossary</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cli"></a> Command Line Interface (CLI) </dt>
<dd>
<p>Means of interacting with a computer program where the user issues commands to the program in the form of typed text</p>
</dd>
<dt class="hdlist1"><a id="csv"></a> Comma Separated Values (CSV) </dt>
<dd>
<p>A file that stores tabular data in plain text</p>
</dd>
<dt class="hdlist1"><a id="fuzzy-search"></a> Fuzzy Search </dt>
<dd>
<p>process that locates terms that are likely to be relevant to a search argument even when the argument does not exactly correspond to the desired information</p>
</dd>
<dt class="hdlist1"><a id="hotkeys"></a> Hotkeys </dt>
<dd>
<p>A combination of keys that what pressed together, executes a command</p>
</dd>
<dt class="hdlist1"><a id="mainstream-os"></a> Mainstream OS</dt>
<dd>
<p>Windows, Linux, Unix, OS-X</p>
</dd>
<dt class="hdlist1"><a id="natural-language"></a> Natural Language </dt>
<dd>
<p>any language that has evolved naturally in humans through use and repetition without conscious planning or premeditation</p>
</dd>
<dt class="hdlist1"><a id="nfc"></a> NFC (Near-Field Communication) </dt>
<dd>
<p>Radio communication technology standard to send data over short distances</p>
</dd>
<dt class="hdlist1"><a id="pdpa"></a> PDPA (Personal Data Protection Act) </dt>
<dd>
<p>A Singapore law that governs collection, use and disclosure of personal data by all private organisations</p>
</dd>
<dt class="hdlist1"><a id="private-contact-detail"></a> Private contact detail</dt>
<dd>
<p>A contact detail that is not meant to be shared with others</p>
</dd>
<dt class="hdlist1"><a id="qr-code"></a> Quick Response (QR) code</dt>
<dd>
<p>A machine-readable matrix (or two-dimensional barcode) that contains information about the item to which it is attached</p>
</dd>
<dt class="hdlist1"><a id="rfid"></a> Radio-frequency identification (RFID) </dt>
<dd>
<p>A technology to record the presence of an object using radio signals</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-survey"><a class="link" href="#product-survey">Appendix F: Product Survey</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Guestday</strong></p>
</div>
<div class="paragraph">
<p>Author: Tinkertanker Pte Ltd</p>
</div>
<div class="paragraph">
<p>Website: <a href="https://guestday.com" class="bare">https://guestday.com</a></p>
</div>
<div class="paragraph">
<p>Pros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fast Contextual Search</p>
<div class="ulist">
<ul>
<li>
<p>Search for guests by name, table, department, or any other parameter of your choosing.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Quick, easy check-in</p>
<div class="ulist">
<ul>
<li>
<p>Effortlessly check the guest in with a simple swipe. Guests can also find out where they’re seated and whom they’re seated with. Display custom data to aid your receptionists, such as information on VIP registrants.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Even faster: QR scanning</p>
<div class="ulist">
<ul>
<li>
<p>Send out QR codes on physical invitation cards or by email, and guests can simply wave their codes at the iPad camera to check in.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Synchronization across multiple devices</p>
<div class="ulist">
<ul>
<li>
<p>Multiple devices can be setup to parallelize the registration process and increase the efficiency of the reception</p>
</li>
</ul>
</div>
</li>
<li>
<p>Elegant and easy to use interface</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Requires specific hardware (iPads loaned out by the company).</p>
</li>
<li>
<p>Expensive, and not reusable (payment for each event).</p>
</li>
<li>
<p>Proprietary software, not open source.</p>
</li>
<li>
<p>Participant contact information cannot be reused across multiple events - has to be re-entered.</p>
</li>
<li>
<p>Editing guest list has to go through the company and hence is slow and a large hassle.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="instructions-for-manual-testing"><a class="link" href="#instructions-for-manual-testing">Appendix G: Instructions for Manual Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given below are instructions to test the app manually.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These instructions only provide a starting point for testers to work on; testers are expected to do more <em>exploratory</em> testing.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="launch-and-shutdown"><a class="link" href="#launch-and-shutdown">G.1. Launch and Shutdown</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Initial launch</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Download the jar file and copy into an empty folder</p>
</li>
<li>
<p>Double-click the jar file<br>
Expected: Shows the GUI with a set of sample contacts. The window size may not be optimum.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Saving window preferences</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Resize the window to an optimum size. Move the window to a different location. Close the window.</p>
</li>
<li>
<p>Re-launch the app by double-clicking the jar file.<br>
Expected: The most recent window size and location is retained.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{ more test cases &#8230;&#8203; }</em></p>
</div>
</div>
<div class="sect2">
<h3 id="deleting-a-person"><a class="link" href="#deleting-a-person">G.2. Deleting a Person</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Deleting a person while all persons are listed</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all persons using the <code>list</code> command. Multiple persons in the list.</p>
</li>
<li>
<p>Test case: <code>delete 1</code><br>
Expected: First contact is deleted from the list. Details of the deleted contact shown in the status message. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code>delete 0</code><br>
Expected: No person is deleted. Error details shown in the status message. Status bar remains the same.</p>
</li>
<li>
<p>Other incorrect delete commands to try: <code>delete</code>, <code>delete x</code> (where x is larger than the list size) <em>{give more}</em><br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{ more test cases &#8230;&#8203; }</em></p>
</div>
</div>
<div class="sect2">
<h3 id="saving-data"><a class="link" href="#saving-data">G.3. Saving Data</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Dealing with missing/corrupted data files</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>{explain how to simulate a missing/corrupted file and the expected behavior}</em></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{ more test cases &#8230;&#8203; }</em></p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-04-15 11:37:43 UTC
</div>
</div>
</body>
</html>